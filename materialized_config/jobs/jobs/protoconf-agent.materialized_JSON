{
  "protoFile": "nomad/v0.10.4/api.proto",
  "value": {
    "@type": "type.googleapis.com/api.RegisterJobRequest",
    "Job": {
      "ID": "protoconf-agent",
      "Name": "protoconf-agent",
      "Type": "system",
      "Datacenters": [
        "ams3c01"
      ],
      "TaskGroups": [
        {
          "Name": "agent",
          "Count": 1,
          "Tasks": [
            {
              "Name": "protoconf-agent",
              "Driver": "docker",
              "Config": {
                "args": [
                  "-store=consul",
                  "-store-address=http://127.0.0.1:8500",
                  "-prefix=production/"
                ],
                "image": "protoconf/agent:v0.1.1-beta12.0",
                "network_mode": "host",
                "volumes": [
                  "/etc/ssl:/etc/ssl"
                ]
              },
              "Resources": {
                "Networks": [
                  {
                    "ReservedPorts": [
                      {
                        "Label": "agent",
                        "Value": 4300
                      }
                    ]
                  }
                ]
              }
            }
          ]
        }
      ]
    }
  }
}
